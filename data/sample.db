import sqlite3

--create the database connection and cursor

conn = sqlite3.connect('data/sample.db')
c = conn.cursor()

-- create the product and sales tables    

c.execute("DROP TABLE IF EXISTS products;")
c.execute("DROP TABLE IF EXISTS sales;")

c. execute(''' 
CREATE TABLE products (
    id INTEGER PRIMARY KEY,
    name TEXT NOT NULL,
    category REAL NOT NULL
);
''')

c. execute('''
CREATE TABLE sales (
    id INTEGER PRIMARY KEY,
    product_id INTEGER,
    quantity INTEGER NOT NULL,
    price REAL,
    FOREIGN KEY (product_id) REFERENCES products (id)
);
''')

-- populate the tables with sample data

cursor.executemany("INSERT INTO products (name, category) VALUES (?, ?);", [
    ("Laptop", "Electronics"),
    ("Phone", "Electronics"),
    ("Desk Chair", "Furniture"),
    ("Pen", "Stationery"),
    ("Notebook", "Stationery"),
])

cursor.executemany("INSERT INTO sales (product_id, quantity, price) VALUES (?, ?, ?);", [
    (1, 10, 999.99),
    (2, 25, 599.99),
    (3, 5, 199.99),
    (4, 100, 1.99),
    (5, 50, 4.99),
])


-- commit the changes and close the connection
conn.commit()
conn.close()